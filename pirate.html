<!DOCTYPE html>
<html>
    <head>
        <title>Game field - Assignment 7</title>
        <style>
            .flex-container {
                display: flex;
                flex-direction: row;
                background-color: red;
            }
    
            .flex-container>div {
                /*div children of the flex container*/
                background-color: #f1f1f1;
                margin: 10px;
                padding: 20px;
                font-size: 30px;
            }
    
            /* Responsive layout */
            @media (max-width: 600px) {
                .flex-container {
                    flex-direction: column;
                    background-color: green;
                }
            }
        </style>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    </head>
    <body>
        <h1 style="font-family: cursive;color:maroon">Find the treasure by Krishna Vasanthi Yakkala</h1>
        <br>
        <div class="container-fluid">
            
            <div class="d-inline p-2 bg-warning" id = "locations">Number of locations checked is zero.</div>
            <div class="d-inline p-2 bg-success" style="color: white;" id = "penalty">Penalty is zero.</div>
            <div class="d-inline p-2 bg-primary"style="color: white;" onclick="help()">Click for help.</div><br><br>
            <div class="d-inline p-2 bg-danger" style="color: white;" id = "help">Help report</div>
            <div class="d-inline p-2 bg-info">Click on the locations to search for treasure, beware the traps</div>
            <br>
            <br>
            <div class="row">
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="0" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(0)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="1" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(1)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="2" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(2)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="3" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(3)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="4" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(4)">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="5" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(5)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="6" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(6)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="7" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(7)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="8" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(8)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="9" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(9)">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="10" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(10)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="11" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(11)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="12" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(12)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="13" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(13)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="14" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(14)">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="15" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(15)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="16" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(16)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="17" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(17)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="18" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(18)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="19" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(19)">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="20" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(20)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="21" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(21)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="22" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(22)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="23" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(23)">
                </div>
                <div class="col-sm-1">
                    <img src="Treasure Hunt Location.jpg" id="24" alt="Treasure Location" style="height: 100%; width: 120%;padding-bottom: 5%;" onclick="check(24)">
                </div>
            </div>
           
        </div>
        <script>
            let ids = ["0", "1", "2", "3", "4", "5", "6", "7", "8",
            "9", "10", "11", "12", "13", "14", "15", "16",
            "17", "18", "19", "20", "21", "22", "23", "24"];
            let checkCount = 0
            let penalty = 0
            let lastCheck = 0
            let treasureLocation = 5
            let trapLocation = 18
            let gameOver = false
            function check(position) {
                if(!gameOver) {
                    let id = ids[position]
                    let image = document.getElementById(id)
                    checkCount++
                    penalty++
                    if(position == treasureLocation){
                        image.src = "Treasure.jpg"
                        gameOver = true
                        penalty = penalty -3
                    } else if(position == trapLocation){
                        image.src = "Trap.jpg"
                        gameOver = true
                        penalty = penalty +4
                    } else {
                        image.src = "Pirate.jpg"
                    }

                    document.getElementById("locations").innerHTML = "Number of locations checked is " + checkCount;
                    document.getElementById("penalty").innerHTML = "Penalty is " + penalty;
                    lastCheck = position
                }

            }
            function help() {
                let treasureRow = Math.round(treasureLocation/5)
                let treasureCol = treasureLocation%5

                let lastCheckRow = Math.round(lastCheck/5)
                let lastCheckCol = lastCheck%5

                let rowDifference = Math.abs(lastCheckRow - treasureRow )
                let colDifference = Math.abs(lastCheckCol - treasureCol )

                let difference =  Math.abs(rowDifference - colDifference )

                penalty = penalty +2
                document.getElementById("penalty").innerHTML = "Penalty is " + penalty;

                if((rowDifference == 0 || colDifference == 0) && difference == 1) {
                    document.getElementById("help").innerHTML = "Can smell it";
                    return "Can smell it";
                } else if (rowDifference + colDifference == 2) {
                    document.getElementById("help").innerHTML = "Close Matie";
                    return "Close Matie"
                } else{
                    document.getElementById("help").innerHTML = "Step Faster";
                    return "Step Faster"
                }
            }
        </script>
    </body>
</html>